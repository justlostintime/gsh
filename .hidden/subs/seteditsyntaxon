Sub seteditsyntaxon() As Boolean ' enable nano and vim syntax highlight
''seteditsyntaxon() Enable gambas syntax both nano and vim
''          This Should have happened when you instaled
''          gsh
Dim EditRc As String[]
Dim OurEditRc As String[]
Dim lookfor As String
'' Install the updates to the local .vimrc to detect gsh syntax
If Not Exist(user.home &/ ".vimrc") Then
Try Copy "/usr/share/gsh/vim/.vimrc" To user.home &/ ".vimrc"
If Error Then
Print #file.err, " copy failed from default .vimrc :";; error.text
Return False
Endif
Else
Try EditRc = Split(file.load(user.home &/ ".vimrc"), "\n", "\"\"", True, True)
If Error Then
Print #file.err, " Unable to access local ~/.vimrc";; error.text
Return False
Endif
Try OurEditRc = Split(file.load("/usr/share/gsh/vim/.vimrc"), "\n", "\"\"", True, True)
If Error Then
Print #file.err, " Unable to access default /usr/share/gsh/vim/.vimrc";; error.text
Return False
Endif
For Each lookfor In OurEditRc
If Not EditRc.exist(lookfor) Then
EditRc.add(lookfor)
Endif
Next
Try file.save(user.home &/ ".vimrc", EditRc.join("\n"))
If Error Then
Print #file.err, " Unable to write ~/.vimrc";; error.text
Return False
Endif
Endif
'' install nano turn on linenumber etc
If Not Exist(user.home &/ ".nanorc") Then
Try Copy "/usr/share/gsh/nano/.nanorc" To user.home &/ ".nanorc"
If Error Then
Print #file.err, " Unable to access default /usr/share/gsh/nano/.nanorc";; error.text
Return False
Endif
Else
Try EditRc = Split(file.load(user.home &/ ".nanorc"), "\n", "\"\"", True, True)
If Error Then
Print #file.err, " Unable to access local ~/.nanorc";; error.text
Return False
Endif
Try OurEditRc = Split(file.load("/usr/share/gsh/nano/.nanorc"), "\n", "\"\"", True, True)
If Error Then
Print #file.err, " Unable to access default /usr/share/gsh/nano/.nanrc";; error.text
Return False
Endif
For Each lookfor In OurEditRc
If Not EditRc.exist(lookfor) Then
EditRc.add(lookfor)
Endif
Next
Try file.save(user.home &/ ".nanorc", EditRc.join("\n"))
If Error Then
Print #file.err, " Unable to write ~/.nanorc";; error.text
Return False
Endif
Endif
Return True
End
