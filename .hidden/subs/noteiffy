Sub noteiffy(varname as string, optional InitValue as variant = "", termvalue as variant = "bye")
dim  s as sharedmemsymbol
     s = sharedmem.asObject(varname)
     sharedmem[varname] = InitValue
     Print "Waiting for Variable to change to value = ";termvalue
     sharedmem.notifychange(varname,me,-1,"testread")
    if typeof(lastval) = gb.string then
    	 while  s.shmRead() <>  termvalue
      		 wait 1.3
     	wend
    else
      sharedmem.notifycancel(varname,me)
    endif
    
End

lastval as variant
 
public sub testread(value as variant, Varname as string)

  if typeof(value) = typeof(lastval) and if value = lastval then 
     return
  else
     lastval = value
  endif

  dim icon as string = "info"
  dim summary as string = "Changed : " & Varname
  !notify-send -i {icon} {summary} {value}
end